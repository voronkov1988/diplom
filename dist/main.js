!function(e){var t={};function l(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var o=(e,t)=>{const l=document.querySelector(e),o=document.querySelector("body"),n=document.querySelector(".popup");document.querySelector(".popup-content");o.addEventListener("click",e=>{let o=e.target,n=document.querySelector("body");o.closest(t)&&(l.style.display="block"),o.matches(".popup-close")&&(l.style.display="none"),o.matches(".popup")&&(l.style.display="none"),o.closest("body")?n.style.display="block":n.style.display="none"}),n.addEventListener("click",e=>{e.preventDefault();let t=e.target;t.classList.contains(".popup-close")?l.style.display="none":(t=t.closest(".popup-content"))||(l.style.display="none")})};var n=function(e,t){const l=document.querySelector(e),o=l.querySelectorAll("input");o.forEach(e=>{let t=e.getAttribute("type");e.addEventListener("input",l=>{"tel"===t?e.value=e.value.replace(/[^+\d]/gi,""):("text"===t||e.classList.contains("mess"))&&(e.value=e.value.replace(/[^а-яё\s]/gi,""))})});const n=document.createElement("div");n.style.cssText="font-size: 2rem",l.addEventListener("submit",e=>{e.preventDefault(),l.appendChild(n),n.textContent="загрузка";let t=document.querySelectorAll(".select-box select")[0],r=document.querySelectorAll(".select-box select")[1],s=document.querySelectorAll(".select-box select")[2],u=document.querySelectorAll(".select-box select")[3],a=t.options[t.selectedIndex].value,d=r.options[r.selectedIndex].value,i=s.options[s.selectedIndex].value,p=u.options[u.selectedIndex].value,y=document.querySelector("#collapseFour input");const m=new FormData(l,a,d,i,p);let b=document.querySelector("#myonoffswitch"),f={};b.checked?(f.metres=y.value,f["value-diametr"]=i,f["value-col"]=p,m.forEach((e,t)=>{f[t]=e})):(f.metres=y.value,f["value-diametr"]=a,f["value-col"]=d,m.forEach((e,t)=>{f[t]=e})),c(f).then(e=>{if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! мы скоро с вами свяжемся!"}).catch(e=>{n.textContent="Чтото пошло не так"}),o.forEach(e=>{e.value=""})});const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var c=e=>{const t=document.getElementById(e),l=document.querySelectorAll(".panel-collapse"),o=document.querySelectorAll(".construct-btn"),n=document.querySelectorAll(".panel-heading"),c=(e,t)=>{event.preventDefault();for(let o=0;o<l.length;o++)l[o].style.display=e===o?"block":t===o?"block":"none"};t.addEventListener("click",e=>{let t=e.target,l=e.target;t=t.closest(".panel-heading"),l=l.closest(".construct-btn"),t?n.forEach((e,l)=>{e===t&&c(l)}):o.forEach((e,t)=>{e===l&&c(t+1)})})};var r=()=>{const e=document.querySelector("#myonoffswitch"),t=document.querySelector("#collapseThree .onoffswitch"),l=document.querySelectorAll(".select-box select")[0],o=document.querySelectorAll(".select-box select")[1],n=document.querySelectorAll(".select-box select")[2],c=document.querySelectorAll(".select-box select")[3],r=document.querySelectorAll(".select-box")[0],s=document.querySelectorAll(".select-box")[1],u=document.querySelectorAll(".select-box")[2],a=document.querySelectorAll(".select-box")[3],d=document.querySelectorAll(".title-text"),i=(document.querySelector("#collapseFour input"),document.querySelector("#calc-result")),p=document.querySelectorAll(".construct-btn"),y=document.getElementById("accordion"),m=document.querySelector("#collapseFour .construct-btn");let b=1e4,f="1.4 метра",v="1 штука",h="2 метра",S="1 штука",q=0;e.addEventListener("change",t=>{b=e.checked?1e4:15e3}),t.addEventListener("change",()=>{q=e.checked||t.checked?1e3:t.checked?2e3:0}),p[0].addEventListener("change",()=>{e.checked?(d[1].style.display="none",u.style.display="none",a.style.display="none",d[0].style.display="inline-block",r.style.display="inline-block",s.style.display="inline-block"):(d[1].style.display="inline-block",u.style.display="inline-block",a.style.display="inline-block",d[0].style.display="none",r.style.display="none",s.style.display="none")}),y.addEventListener("change",e=>{let t=e.target;(t.matches("select")||t.matches("input")||t.matches("button .construct-btn"))&&((()=>{let e=l.options[l.selectedIndex].value,t=o.options[o.selectedIndex].value,r=n.options[n.selectedIndex].value,s=c.options[c.selectedIndex].value;f="2 метра"===e?1.2:1,v="2 штуки"===t?1.3:"3 штуки"===t?1.5:1,h="2 метра"===r?1.2:1,S="2 штуки"===s?1.3:"3 штуки"===s?1.5:1})(),i.placeholder=b)}),m.addEventListener("click",e=>{e.preventDefault(),m&&(b=b*v*S*f*h+q,i.placeholder=b),isNaN(i.placeholder)&&(i.placeholder="чтото пошло не так")})};var s=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".hidden"),l=document.querySelector(".visible-sm-block");e.addEventListener("click",o=>{if(o.target.classList.contains("add-sentence-btn"))for(let o=0;o<t.length;o++)o<4&&(t[o].classList.remove("hidden"),l.classList.remove("visible-sm-block"),e.style.display="none")})};o(".popup-call",".construct-btn .call-btn"),o(".popup-discount",".call-btn"),o(".popup-check",".discount-btn"),o(".popup-consultation",".check-btn"),o(".popup-consultation",".director-btn"),n(".main-form"),n(".director-form"),n(".capture-form"),n(".popup-call"),n(".popup-consultation .capture-form"),n(".popup-check .capture-form"),n(".popup-discount .capture-form"),c("accordion"),c("accordion-two"),r(),s()}]);
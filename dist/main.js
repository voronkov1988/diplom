!function(e){var t={};function l(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,l),c.l=!0,c.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)l.d(o,c,function(t){return e[t]}.bind(null,c));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var o=(e,t)=>{const l=document.querySelector(e),o=document.querySelector("body"),c=document.querySelector(".popup");document.querySelector(".popup-content");o.addEventListener("click",e=>{let o=e.target,c=document.querySelector("body");o.closest(t)&&(l.style.display="block"),o.matches(".popup-close")&&(l.style.display="none"),o.matches(".popup")&&(l.style.display="none"),o.closest("body")?c.style.display="block":c.style.display="none"}),c.addEventListener("click",e=>{e.preventDefault();let t=e.target;t.classList.contains(".popup-close")?l.style.display="none":(t=t.closest(".popup-content"))||(l.style.display="none")})};var c=function(e,t){const l=document.querySelector(e),o=l.querySelectorAll("input");o.forEach(e=>{let t=e.getAttribute("type");e.addEventListener("input",l=>{"tel"===t?e.value=e.value.replace(/[^+\d]/gi,""):("text"===t||e.classList.contains("mess"))&&(e.value=e.value.replace(/[^а-яё\s]/gi,""))})});const c=document.createElement("div");c.style.cssText="font-size: 2rem",l.addEventListener("submit",e=>{e.preventDefault(),l.appendChild(c),c.textContent="загрузка";let t=document.querySelectorAll(".select-box select")[0],r=document.querySelectorAll(".select-box select")[1],s=document.querySelectorAll(".select-box select")[2],u=document.querySelectorAll(".select-box select")[3],a=t.options[t.selectedIndex].value,d=r.options[r.selectedIndex].value,i=s.options[s.selectedIndex].value,p=u.options[u.selectedIndex].value,y=document.querySelector("#collapseFour input");const m=new FormData(l,a,d,i,p);let b=document.querySelector("#myonoffswitch"),f={};b.checked?l.classList.contains("form-main-calc")?(f.metres=y.value,f["value-diametr"]=i,f["value-col"]=p,m.forEach((e,t)=>{f[t]=e})):m.forEach((e,t)=>{f[t]=e}):l.classList.contains("form-main-calc")?(f.metres=y.value,f["value-diametr"]=a,f["value-col"]=d,f["value-diametr2"]=i,f["value-col2"]=p,m.forEach((e,t)=>{f[t]=e})):m.forEach((e,t)=>{f[t]=e}),n(f).then(e=>{if(200!==e.status)throw new Error("status network not 200");c.textContent="Спасибо! мы скоро с вами свяжемся!"}).catch(e=>{c.textContent="Чтото пошло не так"}),o.forEach(e=>{e.value=""})});const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var n=e=>{const t=document.getElementById(e),l=document.querySelectorAll(".panel-collapse"),o=document.querySelectorAll(".construct-btn"),c=document.querySelectorAll(".panel-heading"),n=(e,t)=>{event.preventDefault();for(let o=0;o<l.length;o++)l[o].style.display=e===o?"block":t===o?"block":"none"};t.addEventListener("click",e=>{let t=e.target,l=e.target;t=t.closest(".panel-heading"),l=l.closest(".construct-btn"),t?c.forEach((e,l)=>{e===t&&n(l)}):o.forEach((e,t)=>{e===l&&n(t+1)})})};var r=()=>{const e=document.querySelector("#myonoffswitch"),t=document.querySelector("#collapseThree .onoffswitch"),l=document.querySelectorAll(".select-box select")[0],o=document.querySelectorAll(".select-box select")[1],c=document.querySelectorAll(".select-box select")[2],n=document.querySelectorAll(".select-box select")[3],r=document.querySelectorAll(".select-box")[0],s=document.querySelectorAll(".select-box")[1],u=document.querySelectorAll(".select-box")[2],a=document.querySelectorAll(".select-box")[3],d=document.querySelectorAll(".title-text"),i=(document.querySelector("#collapseFour input"),document.querySelector("#calc-result")),p=(document.querySelectorAll(".construct-btn"),document.getElementById("accordion")),y=document.querySelector("#collapseFour .construct-btn");let m=1e4,b="1.4 метра",f="1 штука",v="2 метра",h="1 штука",S=0;e.addEventListener("change",t=>{m=e.checked?1e4:15e3,e.checked?(d[1].style.display="none",u.style.display="none",a.style.display="none",d[0].style.display="inline-block",r.style.display="inline-block",s.style.display="inline-block"):(d[1].style.display="inline-block",u.style.display="inline-block",a.style.display="inline-block",d[0].style.display="inline-block",r.style.display="inline-block",s.style.display="inline-block")}),t.addEventListener("change",()=>{S=e.checked||t.checked?1e3:t.checked?2e3:0}),p.addEventListener("change",e=>{let t=e.target;(t.matches("select")||t.matches("input")||t.matches("button .construct-btn"))&&((()=>{let e=l.options[l.selectedIndex].value,t=o.options[o.selectedIndex].value,r=c.options[c.selectedIndex].value,s=n.options[n.selectedIndex].value;b="2 метра"===e?1.2:1,f="2 штуки"===t?1.3:"3 штуки"===t?1.5:1,v="2 метра"===r?1.2:1,h="2 штуки"===s?1.3:"3 штуки"===s?1.5:1})(),i.placeholder=m)}),y.addEventListener("click",e=>{e.preventDefault(),y&&(m=m*f*h*b*v+S,i.placeholder=m),isNaN(i.placeholder)&&(i.placeholder="чтото пошло не так")})};var s=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".hidden"),l=document.querySelector(".visible-sm-block");e.addEventListener("click",o=>{if(o.target.classList.contains("add-sentence-btn"))for(let o=0;o<t.length;o++)o<4&&(t[o].classList.remove("hidden"),l.classList.remove("visible-sm-block"),e.style.display="none")})};o(".popup-call",".construct-btn .call-btn"),o(".popup-discount",".call-btn"),o(".popup-check",".discount-btn"),o(".popup-check",".check-btn"),o(".popup-consultation",".director-btn"),c(".main-form"),c(".director-form"),c(".capture-form"),c(".popup-call"),c(".popup-consultation .capture-form"),c(".popup-check .capture-form"),c(".popup-discount .capture-form"),n("accordion"),n("accordion-two"),r(),s()}]);